"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[20],{9316:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var s=t(2488),r=t(7052);const l={title:"Application Server",slug:"/express"},a=void 0,o={id:"express",title:"Application Server",description:"The application in the _/example_ folder demonstrates calling a net-level database server from an Express application server.",source:"@site/docs/express.md",sourceDirName:".",slug:"/express",permalink:"/net-level/docs/express",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Application Server",slug:"/express"},sidebar:"docs",previous:{title:"Command Line Client",permalink:"/net-level/docs/cli"},next:{title:"Net Level Client",permalink:"/net-level/docs/net-level-client"}},i={},c=[{value:"Install",id:"install",level:2},{value:"Connection Parameters",id:"connection-parameters",level:2},{value:"Start application server",id:"start-application-server",level:2},{value:"Run client",id:"run-client",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The application in the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"/example"})})," folder demonstrates calling a net-level database server from an ",(0,s.jsx)(n.a,{href:"https://expressjs.com/",children:"Express"})," application server."]}),"\n",(0,s.jsxs)(n.p,{children:["It demonstrates a ",(0,s.jsx)(n.code,{children:"netLevelRouter"})," wrapping a module which provides connection management. While this is not necessarily how you would build an application, it does offer an quick way to begin interacting with ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"LevelDB!"})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import netLevel from "./index";\nimport express from "express";\n\nexport const netLevelRouter = express.Router();\n\nnetLevelRouter.route("/get").get((req, res) => {\n  netLevel.get(req.query.base, req.query).then(\n    (value) => res.send(value),\n    (err) => res.send({ err })\n  );\n});\n\n...\n'})}),"\n",(0,s.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd example\nyarn install\n// or\nnpm install\n"})}),"\n",(0,s.jsx)(n.h2,{id:"connection-parameters",children:"Connection Parameters"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:".env"})," file is used to define connection parameterd. Set these values to point to a running net-level server, e.g.:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"DB_HOST=localhost\nDB_PORT=3333\nDB_USER=admin\nDB_PASS=adminpass\n"})}),"\n",(0,s.jsx)(n.h2,{id:"start-application-server",children:"Start application server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"node -r esm index.js -p 8880\n"})}),"\n",(0,s.jsx)(n.h2,{id:"run-client",children:"Run client"}),"\n",(0,s.jsx)(n.p,{children:"In a new terminal window...\n...or open the URLs in a browser tab."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'curl -X GET --url "http://localhost:8880/db/set?base=sandbox&key=hello&value=universe"\n\ncurl -X GET --url "http://localhost:8880/db/get?base=sandbox&key=hello"\n\ncurl -X GET --url "http://localhost:8880/db/set?base=sandbox&key=hello&value=world"\n\ncurl -X GET --url "http://localhost:8880/db/get?base=sandbox&key=hello"\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7052:(e,n,t)=>{t.d(n,{I:()=>o,M:()=>a});var s=t(6651);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);